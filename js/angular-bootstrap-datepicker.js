// Generated by CoffeeScript 1.6.3
(function() {
  var dp;

  dp = angular.module('ng-bootstrap-datepicker', []);

  dp.directive('ngDatepicker', function() {
    return {
      restrict: 'A',
      replace: true,
      scope: {
        ngOptions: '=',
        ngModel: '='
      },
      template: "<div class=\"input-append date\">\n  <input type=\"text\"><span class=\"add-on\"><i class=\"icon-th\"></i></span>\n</div>",
      link: function(scope, element) {
        element.datepicker(scope.ngOptions).on('changeDate', function(e) {
          var defaultFormat, defaultLanguage, format, language;
          defaultFormat = $.fn.datepicker.defaults.format;
          format = scope.ngOptions.format || defaultFormat;
          defaultLanguage = $.fn.datepicker.defaults.language;
          language = scope.ngOptions.language || defaultLanguage;
          return scope.$apply(function() {
            return scope.ngModel = $.fn.datepicker.DPGlobal.formatDate(e.date, format, language);
          });
        });
        return scope.$watch('ngModel', function(newValue) {
          return element.datepicker('update', newValue);
        });
      }
    };
  });

}).call(this);
